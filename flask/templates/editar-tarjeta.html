{% extends "layout.html" %}
{% block title %}Editar Tarjeta{% endblock %}
{% block body %}

<div class="container py-4">
    <form method="post" action="{{ url_for('editar_acceso', id=tarjeta.1) }}">
        <div class="row mb-4 g-4 align-items-end">
            <div class="col-md">
                <label for="tarjeta"  class="form-label">Tarjeta</label>
                <div class="badge bg-secondary d-flex"><p class="p-1 m-1 fs-6" id="tarjeta">{{ tarjeta.0 }}</p></div>
            </div>
            <div class="col-md">
                <label for="choosePuerta" class="form-label" style="margin-left: 5px;">Puerta</label>
                <select id="choosePuerta" name="codigo_puerta" class="form-select shadow-sm">
                    <option value="">Elegir Puerta</option>
                    {% for puerta in puertas %}
                        <option value="{{ puerta.2 }}">{{ puerta.1 }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="col-md">
                <button type="submit" class="btn btn-outline-primary w-100">Agregar Acceso</button>
            </div>
        </div>
    </form>
   
</div>


<div class="container mt-4 mb-5">
    <div class="card shadow-sm">
        <div class="card-header">
            <h4 class="mb-0">Editar Tarjeta</h4>
        </div>
        <form method="post" action="{{ url_for('editar_tarjeta', id=tarjeta.1) }}">
            <div class="card-body">
                <div class="mb-3">
                    <label for="codigo" class="form-label">CÃ³digo de Tarjeta</label>
                    <input type="text" class="form-control" id="codigo" name="codigo" maxlength="10" value="{{ tarjeta.0 }}" required>
                </div>

                <div class="mb-3">
                    <label for="tipo" class="form-label">Tipo de Acceso</label>
                    <select class="form-select" id="tipo" name="tipo" required>
                        <option value="T" {% if tarjeta.2 == 'T' %}selected{% endif %}>T (Total)</option>
                        <option value="R" {% if tarjeta.2 == 'R' %}selected{% endif %}>R (Restringido)</option>
                    </select>
                </div>

                <div class="mb-3">
                    <label for="habilitada" class="form-label">Estado</label>
                    <select class="form-select" id="habilitada" name="habilitada" required>
                        <option value="1" {% if tarjeta.3 == 1 %}selected{% endif %}>Habilitada</option>
                        <option value="0" {% if tarjeta.3 == 0 %}selected{% endif %}>Deshabilitada</option>
                    </select>
                </div>

                <div class="mb-3">
                    <label for="acceso" class="form-label">Acceso</label>
                    <select class="form-select" id="acceso" name="acceso" required>
                        <option value="T" {% if tarjeta.4 == 'T' %}selected{% endif %}>T (Toda la semana)</option>
                        <option value="S" {% if tarjeta.4 == 'S' %}selected{% endif %}>S (Lunes a Viernes)</option>
                        <option value="W" {% if tarjeta.4 == 'W' %}selected{% endif %}>W (Fin de semana)</option>
                    </select>
                </div>

                <div class="mb-3 row">
                    <div class="col-md-6">
                        <label for="hora_inicio" class="form-label">Hora de Inicio</label>
                        <input type="time" class="form-control" id="hora_inicio" name="hora_inicio"
                               value="{{ tarjeta.5 if tarjeta.5 is not none }}">
                    </div>
                    <div class="col-md-6">
                        <label for="hora_fin" class="form-label">Hora de Fin</label>
                        <input type="time" class="form-control" id="hora_fin" name="hora_fin"
                               value="{{ tarjeta.6 if tarjeta.6 is not none }}">
                    </div>
                </div>
            </div>
            <div class="card-footer text-end">
                <button type="submit" class="btn btn-primary">Actualizar</button>
            </div>
        </form>
    </div>
</div>













{% endblock %}